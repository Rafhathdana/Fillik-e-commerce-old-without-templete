<body class="rafcolour">
  <header><%- include('header') -%></header>
  <div class="mainheading">Add Catogory</div>
  <div class="main-div">
    <!-- CATEGORY -->
    <form id="category-form" action="/addCatagory" method="POST">
      <div class="category">
        <h1 class="categoryname">Category</h1>
        <div class="category">
          <h1 class="categoryname">Category</h1>
          <input
            type="text"
            class="form-control"
            name="inputcategory"
            placeholder="Top, shirt, t-shirt, pant..."
          />
        </div>
      </div>
      <button type="submit" class="submitbutton">Add Catogory</button>
    </form>
    <form id="colour-form" action="/addColour" method="POST">
      <div class="category">
        <h1 class="categoryname">Add Colour</h1>
        <div class="category">
          <h1 class="categoryname">Colour</h1>
          <input
            type="text"
            name="colour"
            class="form-control"
            placeholder="Top, shirt, t-shirt, pant..."
          />
        </div>
      </div>
      <button type="submit" class="submitbutton">Add Colour</button>
    </form>
    <form id="pattern-form" action="/addPattern" method="POST">
      <div class="category">
        <h1 class="categoryname">Add Pattern</h1>
        <div class="category">
          <h1 class="categoryname">Pattern</h1>
          <input
            type="text"
            class="form-control"
            name="pattern"
            placeholder="Floral, striped, polka dot..."
          />
        </div>
      </div>
      <button type="submit" class="submitbutton">Add Colour</button>
    </form>
  </div>
</body>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
<script>
  $(document).ready(function () {
    $.validator.addMethod(
      "noSpecialChars",
      function (value, element) {
        return this.optional(element) || /^(?!\s)[a-zA-Z ]+$/.test(value);
      },
      "Special characters and spaces are not allowed"
    );
    $("#category-form").validate({
      rules: {
        inputcategory: {
          required: true,
          minlength: 2,
          noSpecialChars: true,
        },
      },
      messages: {
        inputcategory: {
          required: "Please enter the Category",
          minlength: "Your name must be at least 2 characters long",
          noSpecialChars: "Special characters and spaces are not allowed",
        },
      },
      highlight: function (element) {
        $(element).closest(".form-control").addClass("is-invalid");
      },
      unhighlight: function (element) {
        $(element).closest(".form-control").removeClass("is-invalid");
      },
      errorElement: "div",
      errorClass: "invalid-feedback",
      errorPlacement: function (error, element) {
        if (element.parent(".input-group").length) {
          error.insertAfter(element.parent());
        } else {
          error.insertAfter(element);
        }
      },
    });
    $("#colour-form").validate({
      rules: {
        colour: {
          required: true,
          minlength: 2,
          noSpecialChars: true,
        },
      },
      messages: {
        colour: {
          required: "Please enter the colour",
          minlength: "Your name must be at least 2 characters long",
          noSpecialChars: "Special characters and spaces are not allowed",
        },
      },
      highlight: function (element) {
        $(element).closest(".form-control").addClass("is-invalid");
      },
      unhighlight: function (element) {
        $(element).closest(".form-control").removeClass("is-invalid");
      },
      errorElement: "div",
      errorClass: "invalid-feedback",
      errorPlacement: function (error, element) {
        if (element.parent(".input-group").length) {
          error.insertAfter(element.parent());
        } else {
          error.insertAfter(element);
        }
      },
    });
    $("#pattern-form").validate({
      rules: {
        pattern: {
          required: true,
          minlength: 2,
          noSpecialChars: true,
        },
      },
      messages: {
        pattern: {
          required: "Please enter the Pattern",
          minlength: "Your name must be at least 2 characters long",
          noSpecialChars: "Special characters and spaces are not allowed",
        },
      },
      highlight: function (element) {
        $(element).closest(".form-control").addClass("is-invalid");
      },
      unhighlight: function (element) {
        $(element).closest(".form-control").removeClass("is-invalid");
      },
      errorElement: "div",
      errorClass: "invalid-feedback",
      errorPlacement: function (error, element) {
        if (element.parent(".input-group").length) {
          error.insertAfter(element.parent());
        } else {
          error.insertAfter(element);
        }
      },
    });
  });
</script>
