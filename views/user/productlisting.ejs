<%- include('../header') -%>
<head>
  <style>
    .wrap-header-cart {
      position: fixed;
      top: 0;
      right: -100%;
      width: 400px; /* adjust the width as needed */
      height: 100%;
      background-color: white;
      z-index: 9999;
      transition: right 0.3s ease-in-out;
    }

    .show-header-cart {
      right: 0;
    }
  </style>
</head>
<div class="wrap-header-cart js-panel-cart show-header-cart">
  <div class="s-full js-hide-cart"></div>

  <div class="header-cart flex-col-l p-l-65 p-r-25">
    <div class="header-cart-title flex-w flex-sb-m p-b-8">
      <span class="mtext-103 cl2"> Your Cart </span>

      <div class="fs-35 lh-10 cl2 p-lr-5 pointer hov-cl1 trans-04 js-hide-cart">
        <i class="zmdi zmdi-close"></i>
      </div>
    </div>

    <div
      class="header-cart-content flex-w js-pscroll ps"
      style="position: relative; overflow: hidden"
    >
      <ul class="header-cart-wrapitem w-full">
        <li class="header-cart-item flex-w flex-t m-b-12">
          <div class="header-cart-item-img">
            <img src="images/item-cart-01.jpg" alt="IMG" />
          </div>

          <div class="header-cart-item-txt p-t-8">
            <a href="#" class="header-cart-item-name m-b-18 hov-cl1 trans-04">
              White Shirt Pleat
            </a>

            <span class="header-cart-item-info"> 1 x $19.00 </span>
          </div>
        </li>

        <li class="header-cart-item flex-w flex-t m-b-12">
          <div class="header-cart-item-img">
            <img src="images/item-cart-02.jpg" alt="IMG" />
          </div>

          <div class="header-cart-item-txt p-t-8">
            <a href="#" class="header-cart-item-name m-b-18 hov-cl1 trans-04">
              Converse All Star
            </a>

            <span class="header-cart-item-info"> 1 x $39.00 </span>
          </div>
        </li>

        <li class="header-cart-item flex-w flex-t m-b-12">
          <div class="header-cart-item-img">
            <img src="images/item-cart-03.jpg" alt="IMG" />
          </div>

          <div class="header-cart-item-txt p-t-8">
            <a href="#" class="header-cart-item-name m-b-18 hov-cl1 trans-04">
              Nixon Porter Leather
            </a>

            <span class="header-cart-item-info"> 1 x $17.00 </span>
          </div>
        </li>
      </ul>

      <div class="w-full">
        <div class="header-cart-total w-full p-tb-40">Total: $75.00</div>

        <div class="header-cart-buttons flex-w w-full">
          <a
            href="shoping-cart.html"
            class="flex-c-m stext-101 cl0 size-107 bg3 bor2 hov-btn3 p-lr-15 trans-04 m-r-8 m-b-10"
          >
            View Cart
          </a>

          <a
            href="shoping-cart.html"
            class="flex-c-m stext-101 cl0 size-107 bg3 bor2 hov-btn3 p-lr-15 trans-04 m-b-10"
          >
            Check Out
          </a>
        </div>
      </div>
      <div class="ps__rail-x" style="left: 0px; bottom: 0px">
        <div
          class="ps__thumb-x"
          tabindex="0"
          style="left: 0px; width: 0px"
        ></div>
      </div>
      <div class="ps__rail-y" style="top: 0px; right: 0px">
        <div
          class="ps__thumb-y"
          tabindex="0"
          style="top: 0px; height: 0px"
        ></div>
      </div>
    </div>
  </div>
</div>
<div class="flex">
  <form>
    <main class="d-flex flex-nowrap position-fixed" style="height: 100%">
      <div
        class="d-flex flex-column flex-shrink-0 p-3 rafhathsinglecolour"
        style="width: 180px; margin-top: 63px"
      >
        <ul class="nav nav-pills flex-column mb-auto">
          <li>
            <div class="filter-item">
              <h6 for="name-input">Price</h6>
              <div class="flex mt-1">
                <label for="min-input">min: </label>
                <input type="text" id="min-input" class="price-input" />
              </div>
              <div class="flex mt-2">
                <label for="max-input">max:</label
                ><input type="text" id="max-input" class="price-input" />
              </div>
            </div>
          </li>
          <li>
            <div class="filter-item">
              <h6 for="genderType" class="mt-3">category:</h6>
              <select name="category" id="category" class="gendercategory">
                <option class="visually-hidden" value="">
                  select category
                </option>
                <% for (let i = 0; i < category.length; i++) { %>
                <option class="selectoption" value="<%= category[i].values %>">
                  <%= category[i].values %>
                </option>
                <% } %>
              </select>
            </div>
          </li>
          <li>
            <div class="filter-item">
              <h6 for="genderType" class="mt-3">genderType:</h6>
              <select name="genderType" id="genderType" class="gendercategory">
                <% for (let i = 0; i < genderType.length; i++) { %>
                <option
                  class="selectoption"
                  value="<%= genderType[i].values %>"
                >
                  <%= genderType[i].values %>
                </option>
                <% } %>
              </select>
            </div>
          </li>
          <li>
            <div class="filter-item">
              <h6 class="mt-3" for="colour">colour:</h6>
              <select name="colour" id="colour" class="gendercategory">
                <% for (let i = 0; i < colour.length; i++) { %>
                <option class="selectoption" value="<%= colour[i].values %>">
                  <%= colour[i].values %>
                </option>
                <% } %>
              </select>
            </div>
          </li>
          <li>
            <div class="filter-item">
              <h6 class="mt-3" for="pattern">pattern:</h6>
              <select name="pattern" id="pattern" class="gendercategory">
                <% for (let i = 0; i < pattern.length; i++) { %>
                <option class="selectoption" value="<%= pattern[i].values %>">
                  <%= pattern[i].values %>
                </option>
                <% } %>
              </select>
            </div>
          </li>
          <li>
            <div class="filter-item">
              <h6 class="mt-3" for="sizes">sizes:</h6>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  value="S"
                  id="flexCheckDefault"
                />
                <label class="form-check-label" for="flexCheckDefault">
                  Small
                </label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  value="M"
                  id="flexCheckDefault"
                />
                <label class="form-check-label" for="flexCheckDefault">
                  medium
                </label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  value="L"
                  id="flexCheckDefault"
                />
                <label class="form-check-label" for="flexCheckDefault">
                  Large
                </label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  value="XL"
                  id="flexCheckDefault"
                />
                <label class="form-check-label" for="flexCheckDefault">
                  Extra Large
                </label>
              </div>
            </div>
          </li>
          <li>
            <button class="btn btn-outline-light mt-4 mx-4">Apply</button>
          </li>
        </ul>
        <hr />
      </div>
    </main>
  </form>

  <div
    class="container mt-5 mt-md-0"
    style="padding-top: 100px; margin-left: 190px"
  >
    <div class="row g-4">
      <% for (let i = locals.startIndex; i < locals.endIndex; i++) { %>
      <div class="col-md-3 col-sm-6">
        <div class="product-grid">
          <div class="product-image">
            <a href="/productview/<%=productsList[i]._id %>" class="image">
              <img src="/images/<%=productsList[i].images[0]%>" />
            </a>
            <% let value = parseInt(productsList[i].orginalPrice) -
            parseInt(productsList[i].ourPrice/100); let discount = (value /
            parseInt(productsList[i].orginalPrice)) * 100; %>
            <span class="product-discount-label"
              >-<%= discount.toFixed(0) %>%</span
            >
            <ul class="product-links">
              <li>
                <a href="#"><i class="fa fa-search"></i></a>
              </li>
              <li>
                <a href="#"><i class="fa fa-heart"></i></a>
              </li>
              <li>
                <a
                  href="#"
                  onclick="navigator.share({ title: '<%= locals.productsList[i].name %>', url: 'https://localhost:3000/productview/<%=productsList[i]._id %>' })"
                  ><i class="fa fa-random"></i
                ></a>
              </li>
            </ul>
            <a href="" class="add-to-cart">Add to Cart</a>
          </div>
          <div class="product-content">
            <h3 class="title">
              <a href="#"><%= locals.productsList[i].name %></a>
            </h3>
            <div class="price">
              RS.<%=((productsList[i].ourPrice)/100)%>
              <span>Rs<%= productsList[i].orginalPrice %></span>
            </div>
          </div>
        </div>
      </div>
      <% } %>
    </div>
  </div>
</div>
<script>
  const cartIcon = document.querySelector(".cart-icon");
  const cartContainer = document.querySelector(".wrap-header-cart");

  cartIcon.addEventListener("click", () => {
    cartContainer.classList.toggle("show-header-cart");
  });
</script>
